# Baudbot agent configuration schema
# See CONFIGURATION.md for details on each variable.
#
# Secrets live at ~/.config/.env (600 perms, never committed).
# This schema is deployed to ~/.config/.env.schema alongside the .env file.
#
# @defaultSensitive=true
# @defaultRequired=false
# ---

# ── LLM Access ───────────────────────────────────────────────────────────────

# API key for the LLM provider (Anthropic, OpenAI, or a proxy)
# @required @type=string
# @docs(https://docs.anthropic.com/en/api/getting-started)
OPENCODE_ZEN_API_KEY=

# ── GitHub ───────────────────────────────────────────────────────────────────

# GitHub Personal Access Token (fine-grained, scoped to agent repos)
# @required @type=string(startsWith=ghp_)
# @docs(https://github.com/settings/tokens)
GITHUB_TOKEN=

# ── Slack ────────────────────────────────────────────────────────────────────

# Slack bot OAuth token
# @required @type=string(startsWith=xoxb-)
# @docs("Create a Slack app", https://api.slack.com/apps)
SLACK_BOT_TOKEN=

# Slack app-level token (Socket Mode)
# @required @type=string(startsWith=xapp-)
SLACK_APP_TOKEN=

# Comma-separated Slack user IDs allowed to interact with the agent
# Bridge refuses to start without at least one user ID.
# @required @sensitive=false @type=string
# @example="U01ABCDEF,U02GHIJKL"
SLACK_ALLOWED_USERS=

# ── Email Monitor ────────────────────────────────────────────────────────────

# AgentMail API key
# @type=string
# @docs(https://app.agentmail.to)
AGENTMAIL_API_KEY=

# Agent's monitored email address
# @sensitive=false @type=email
BAUDBOT_EMAIL=

# Shared secret for email sender authentication
# @type=string
BAUDBOT_SECRET=

# Comma-separated sender email allowlist
# @sensitive=false @type=string
# @example="you@example.com,teammate@example.com"
BAUDBOT_ALLOWED_EMAILS=

# ── Sentry (optional) ───────────────────────────────────────────────────────

# Sentry API bearer token
# @type=string
# @docs(https://sentry.io/settings/account/api/auth-tokens/)
SENTRY_AUTH_TOKEN=

# Sentry organization slug
# @sensitive=false @type=string
SENTRY_ORG=

# Slack channel ID for Sentry alerts
# @sensitive=false @type=string(startsWith=C)
SENTRY_CHANNEL_ID=

# ── Slack Channels (optional) ───────────────────────────────────────────────

# Additional monitored channel (responds to all messages, not just @mentions)
# @sensitive=false @type=string(startsWith=C)
SLACK_CHANNEL_ID=

# ── Kernel (optional) ───────────────────────────────────────────────────────

# Kernel cloud browser API key
# @type=string
# @docs(https://kernel.computer)
KERNEL_API_KEY=

# ── Tool Guard ───────────────────────────────────────────────────────────────

# Unix username of the agent
# @sensitive=false @type=string
BAUDBOT_AGENT_USER=baudbot_agent

# Agent's home directory
# @sensitive=false @type=string
BAUDBOT_AGENT_HOME=/home/baudbot_agent

# Path to admin-owned source repo (enables source repo write protection)
# @sensitive=false @type=string
BAUDBOT_SOURCE_DIR=

# ── Bridge ───────────────────────────────────────────────────────────────────

# Local HTTP API port for outbound Slack messages
# @sensitive=false @type=port
BRIDGE_API_PORT=7890

# Target pi session ID (auto-detects control-agent if unset)
# @sensitive=false @type=string
PI_SESSION_ID=
